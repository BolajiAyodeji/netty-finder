{"version":3,"sources":["../../src/Toast.js"],"names":["Toast","options","message","Error","type","toastContainerEl","document","querySelector","toastEl","_init","prototype","_createElements","Promise","resolve","reject","createElement","classList","add","setAttribute","appendChild","body","setTimeout","_addEventListeners","addEventListener","_close","customButtons","customButtonsElArray","Array","slice","call","querySelectorAll","map","el","index","event","onClick","innerHTML","remove","focusedElBeforeOpen","focus","_open","customButton","text","join","activeElement","then","getAttribute"],"mappings":"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","sourcesContent":["function Toast(options) {\n\n    if (!options.message) {\n        throw new Error('Toast.js - You need to set a message to display');\n        return;\n    }\n\n    this.options = options;\n    this.options.type = options.type || 'default';\n\n    this.toastContainerEl = document.querySelector('.toastjs-container');\n    this.toastEl = document.querySelector('.toastjs');\n\n    this._init();\n}\n\nToast.prototype._createElements = function () {\n    return new Promise((resolve, reject) => {\n\n        this.toastContainerEl = document.createElement('div');\n        this.toastContainerEl.classList.add('toastjs-container');\n        this.toastContainerEl.setAttribute('role', 'alert');\n        this.toastContainerEl.setAttribute('aria-hidden', true);\n\n        this.toastEl = document.createElement('div');\n        this.toastEl.classList.add('toastjs');\n\n        this.toastContainerEl.appendChild(this.toastEl);\n        document.body.appendChild(this.toastContainerEl);\n\n        setTimeout(() => resolve(), 100);\n    })\n};\n\nToast.prototype._addEventListeners = function () {\n\n    document.querySelector('.toastjs-btn--close').addEventListener('click', () => {\n        this._close();\n    })\n\n    if (this.options.customButtons) {\n        const customButtonsElArray = Array.prototype.slice.call(document.querySelectorAll('.toastjs-btn--custom'));\n        customButtonsElArray.map((el, index) => {\n            el.addEventListener('click', (event) => this.options.customButtons[index].onClick(event));\n        });\n    }\n\n};\n\n\nToast.prototype._close = function () {\n    return new Promise((resolve, reject) => {\n        this.toastContainerEl.setAttribute('aria-hidden', true);\n        setTimeout(() => {\n\n            this.toastEl.innerHTML = '';\n            this.toastEl.classList.remove('default', 'error', '9mobile', 'MTN', 'GLO', 'Airtel', 'Starcomms', 'Visafone', 'Multilinks', 'Zoom', 'Ntel', 'Smile');\n\n            if (this.focusedElBeforeOpen) {\n                this.focusedElBeforeOpen.focus();\n            }\n\n            resolve();\n\n        }, 10);\n    });\n};\n\nToast.prototype._open = function () {\n\n    this.toastEl.classList.add(this.options.type);\n    this.toastContainerEl.setAttribute('aria-hidden', false);\n\n    let customButtons = '';\n    if (this.options.customButtons) {\n        customButtons = this.options.customButtons.map((customButton, index) => {\n            return `<button type=\"button\" class=\"toastjs-btn toastjs-btn--custom\">${customButton.text}</button>`\n        })\n        customButtons = customButtons.join('');\n    }\n\n    this.toastEl.innerHTML = `\n        <p>${this.options.message}</p>\n        <button type=\"button\" class=\"toastjs-btn toastjs-btn--close\">Close</button>\n        ${customButtons}\n    `;\n\n    this.focusedElBeforeOpen = document.activeElement;\n    document.querySelector('.toastjs-btn--close').focus();\n};\n\nToast.prototype._init = function () {\n    Promise.resolve()\n        .then(() => {\n            if (this.toastContainerEl) {\n                return Promise.resolve();\n            }\n            return this._createElements();\n        })\n        .then(() => {\n            if (this.toastContainerEl.getAttribute('aria-hidden') == 'false') {\n                return this._close();\n            }\n            return Promise.resolve();\n        })\n        .then(() => {\n            this._open();\n            this._addEventListeners();\n        })\n};"],"file":"Toast.js"}